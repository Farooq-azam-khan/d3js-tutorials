<!DOCTYPE html>

<html>
  <head>
    <title>D3JS tutorial</title>
    <!-- favicon -->
    <link rel='icon' href='./favicon/favicon.ico' type='image/x-icon'/ >
    <!-- fonts -->
    <!-- baskerville -->
    <link
      href="https://fonts.googleapis.com/css?family=Baskervville&display=swap"
      rel="stylesheet"
    />
    <!-- ubuntu sans-serif -->
    <link
      href="https://fonts.googleapis.com/css?family=Ubuntu&display=swap"
      rel="stylesheet"
    />
    <!-- ibm plex mono -->
    <link
      href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono&display=swap"
      rel="stylesheet"
    />

    <!-- custom styles -->
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div id="app" class="container">
      <h1>D3 Tutorial</h1>
      <div class="row">
        <h2>Working with Javascript</h2>
        <p>We have the following data of cars</p>
        <code id="carsData"></code>

        <p>We can use functional programming to make it look nicer</p>
        <code id="formatCar"></code>
        <p>
          This is done by mapping over the data with a custom function that
          formats each object (i.e. each car description). Look at
          <span class="file-reference">components/car.js</span> file for the
          formatting function.
        </p>
        <p>
          We can also filter by a specific price. In the following example we
          filter by car prices less than $2000.
        </p>
        <code id="filterCarPrice"></code>
      </div>
      <!-- end of row 1 -->

      <div class="row">
        <h2>HTML CSS and SVG</h2>
        <p>
          We can write scalable vector graphics (SVG) using the svg tag. Learn
          the follwoing:
        </p>
        <ol>
          <li>
            height and width of the svg tag (defined it here as height="520" and
            width="100%" (of its parent i.e. the .row class);
          </li>
          <li>
            circle tag which takes in cx, cy and r all self explanitory;
          </li>
          <li>
            Same goes for the rect tag which takes in x, y, width, and height;
          </li>
          <li>
            the group element which applies a tranformation, fill, stroke, etc.
            to all its children element. These children elements can be any tag
            (circle, rectangle, or path);
          </li>
          <li>
            lastly the path where the d attribute is the most important. It can
            any polygon you desire. It requires a start point M x,y. Then a line
            to a desired point: L x2,y2. These L points can be grouped n times.
          </li>
        </ol>
        <svg height="520">
          <circle r="100" cx="100" cy="100"></circle>
          <rect x="250" y="0" width="100" height="200"></rect>

          <circle r="100" cx="100" cy="350" fill="#fabfab"></circle>
          <rect x="250" y="250" width="100" height="200" fill="#fabfab"></rect>

          <g fill="#2afbaf" stroke="#345345">
            <circle r="100" cx="500" cy="100" stroke-width="2"></circle>
            <rect x="650" y="0" width="100" height="200"></rect>
          </g>
          <line
            x1="380"
            y1="0"
            x2="380"
            y2="520"
            stroke="red"
            stroke-weight="3"
          ></line>

          <path
            stroke="orange"
            stroke-width="3"
            fill="none"
            d="M 0,220 L 900,220 L 900,510 L 380,510 L 900, 220"
          ></path>
          <path
            stroke="orange"
            stroke-width="3"
            fill="#ab5ab5"
            d="M 900,220 L 900,510 L 380,510 L 900,220"
          ></path>
        </svg>
      </div>
      <!-- end of row 2-->
      <div class="row">
        <h2>Using d3</h2>
        <p>We can see that the above can be replicated with d3.js.</p>
        <svg id="d3-test"></svg>
      </div>
      <!--end of row 3-->
      <div class="row">
        <h2>Making a face with d3.js</h2>
        <p>
          Will demostrate how to make a face and will see it below. We can also
          do animation with d3. For a demo click the "Start Animation" button.
        </p>
        <button id="face-animation-btn">Start Animation</button>
        <svg id="face"></svg>
        <p>Explination to be done.</p>
      </div>
      <!-- end of row 4-->

      <div class="row">
        <h2>Making a Bar Chart</h2>
        <p>
          Got the data from here:
          <a href="https://population.un.org/wpp/Download/Standard/Population/"
            >UN Data</a
          >
        </p>
        <svg id="barchart-population"></svg>
      </div>
      <!-- end of row 5-->
      <div class="row">
        <h2>Drawing a Scatterplot</h2>
        <p>Here we will draw a scatterplot</p>
        <svg id="scatterplot"></svg>
        <p>Here is another scatter plot where both x and y are numeric.</p>
        <svg id="cars-scatter-plot"></svg>
        <p>Another scatter plot here with temperature.</p>
        <svg id="temperature-scatter-plot"></svg>
      </div>
      <!-- end of row 6-->
      <div class="row">
        <h2>Lineplots</h2>
        <p>Let us do line plots now</p>
        <p>Here are some options you can play with:</p>
        <button id="show-points">Toggle Points</button>
        <button id="show-fill">Toggle Fill</button>
        <svg id="lineplot-temp"></svg>
      </div>
      <!-- end of row 7 -->
      <div class="row">
        <h2>Area Plot</h2>
        <p>Let us do area plot now</p>
        <button id="show-stroke">Toggle Stroke</button>
        <!-- Rounded switch -->
        <!-- <label class="switch">
          <input id="toggle" type="checkbox" />
          <span class="slider round"></span>
        </label> -->
        <button id="show-points-areaplot">Toggle Points</button>
        <p>
          Change the size of the strok when show.
          <input
            type="number"
            value="2"
            placeholder="stroke weight"
            id="adjust-stroke-weight-area-temp"
          />
        </p>

        <svg id="area-temp"></svg>
        <h3>Area with Baseline</h3>
        <p>
          The baseline is an important property of an area plot. In the above
          lineplot example the temperature baseline was 14 but that is not a
          correct implementation of an area plot.
        </p>
        <p>
          Below let us plot a proper area graph.
        </p>
        <svg id="area-population"></svg>
      </div>
      <!-- end of row 8 -->
      <div class="row">
        <h2>General Update Pattern: Enter, Update, Remove</h2>
        <p>
          This section will demonstrate how the enter, update, and remove work
          with a bowl of fruit example.
        </p>
        <p>
          If the bowl is empty then add 5 apples. If you eat one remove it from
          the bowl.
        </p>
        <button id="bowl-animation">Start Animation</button>

        <svg id="bowl-of-fruit"></svg>

        <h3>Nested Elements with the General Update Pattern</h3>
        <button id="general-pattern-bowl-animation">Start Animation</button>
        <svg id="nested-bowl-of-fruit"></svg>
        <p>
          You can add only one element (like the bowl) by using the
          <code
            >selection.selectAll('rect').data([null]).enter().append('rect')</code
          >.
        </p>
      </div>
      <!-- end of row 9-->
    </div>
    <!-- end of container-->
    <!-- d3 js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.14.2/d3.min.js"></script>
    <script type="module" src="index.js"></script>
  </body>
</html>
